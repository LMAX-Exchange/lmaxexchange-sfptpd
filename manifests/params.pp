#LB: defaults from the 2.2.4.70-1 version of SolarFlare's RPM
class sfptpd::params {
  $sync_mode                    = 'ptp'
  $interface                    = 'eth0'
  $message_log                  = '/var/log/sfptpd/sfptpd.log'
  $stats_log_enable             = false
  $stats_log_file               = '/var/log/sfptpd/stats.log'
  $daemon                       = true
  $lock                         = 'on'
  $clock_control                = 'slew-and-step'
  $persistent_clock_correction  = 'on'
  $timestamping_interfaces      = undef
  $timestamping_disable_on_exit = 'on'
  $trace_level                  = 0
  $ptp_mode                     = 'slave'
  $ptp_stats                    = 'off'
  $ptp_pkt_dump                 = false
  $ptp_pps_log                  = false
  $pps_delay                    = 0
  $ptp_delay_discard_threshold  = 1000000
  $ptp_tx_latency               = 0
  $ptp_rx_latency               = 0
  $ptp_network_mode             = 'hybrid'
  $ptp_ttl                      = 64
  $ptp_utc_valid_handling       = 'default'
  $ptp_domain                   = 0
  $ptp_mgmt_msgs                = 'disabled'
  $ptp_timing_acl_permit        = undef
  $ptp_timing_acl_deny          = undef
  $ptp_timing_acl_order         = undef
  $ptp_mgmt_acl_permit          = undef
  $ptp_mgmt_acl_deny            = undef
  $ptp_mgmt_acl_order           = undef
  $ptp_announce_timeout         = 6
  $ptp_sync_pkt_timeout         = 6
  $ptp_delayreq_interval        = 0
  $ptp_delayresp_timeout        = -2
  $ptp_max_foreign_records      = 16
  $ptp_uuid_filtering           = 'on'
  $ptp_domain_filtering         = 'on'
  $ptp_trace                    = 0
  $freerun_mode                 = 'nic'
  $ntp_mode                     = 'off'
  $ntp_poll_interval            = 1
  $ntp_key                      = undef
  $package_name                 = 'sfptpd'
  $package_ensure               = 'installed'
  $config_file                  = '/etc/sfptpd.conf'
  $config_file_owner            = '0'
  $config_file_group            = '0'
  $config_file_mode             = '0755'
  $config_file_content_template = 'sfptpd/sfptpd.conf.erb'
  $service_name                 = 'sfptpd'
  $service_ensure               = 'running'
  $service_ensure_force_undef   = false
  $service_enable               = true
  $service_hasrestart           = true
  $service_hasstatus            = true

  $sfptpd_init_script = '/etc/init.d/sfptpd'
  $manage_init_script = $::operatingsystem ? {
    /RedHat|CentOS/ => true,
    default         => false,
  }
}
